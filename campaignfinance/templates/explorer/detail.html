{% extends "base.html" %}
{% load humanize %}
{% block extracss %}
<link rel="stylesheet" href="//cdn.datatables.net/1.10.2/css/jquery.dataTables.css">
{% endblock %}
	
{% block content %}
	{% for race in candidate.races.all %}
	<em><a href="{{ race.get_absolute_url }}">{{race.name}}</a></em>
	{% endfor %}
	<h3 class="candidate">{{ candidate }} campaign contributions</h3>
	{% if candidate.incumbant = True %}
        <i class="fa fa-check"></i> Incumbant
    {% endif %}
	<p>Listed are all the contributions for each committee associated with the candidate reported to the <a href="http://www.elections.state.il.us/">Illinois State Board of Elections</a>, and scrapped by <a href="http://electionmoney.org/">Illinois Election Money</a>. Go to their site to <a href="http://electionmoney.org/documentation">learn more about what is reported to the state</a>.</p>
	<p>Names and figures are displayed as reported to the state. Some names may be incorrect or listed under multiple spellings.</p>
	<div class="main-table">
	    <table id="data" class="table table-striped table-condensed" cellspacing="0">
	    	<thead>
	            <tr>
	            	<th>From</th>
	                <th>Amount</th>
	                <th>Date Received</th>
	                <th class="hidden-xs">Occupation</th>
	                <th class="hidden-xs">Employer</th>
	                <th class="hidden-xs">City</th>
	                <th class="hidden-xs">State</th>
	            </tr>
	        </thead>
	        <tbody>
		    {% for receipt in receipts %}
		    <tr>
		    	<td>{% if receipt.firstname %}{{receipt.firstname}}{% endif %} {{receipt.lastonlyname}}</td>
		    	<td>${{receipt.amount|floatformat:"2"|intcomma}}</td>
		    	<td>{{receipt.rcvdate}}</td>
		    	<td class="hidden-xs">{% if receipt.occupation %}{{receipt.occuation}}{% endif %}</td>
		    	<td class="hidden-xs">{% if receipt.employer %}{{receipt.employer}}{% endif %}</td>
		    	<td class="hidden-xs">{% if receipt.city %}{{receipt.city}}{% endif %}</td>
		    	<td class="hidden-xs">{% if receipt.state %}{{receipt.state}}{% endif %}</td>
			</tr>
		    {% endfor %}
		    </tbody>
		</table>
	</div>
	<div class="footer">
		<p></p>
	</div>
{% endblock %}
{% block extrajs %}
	<script src="//cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
    <script>
    $(document).ready(function() {
	    $('#data').dataTable({
	    "paging":   false,
	    "ordering": true,
        "order": [[ 2, "asc" ]],
        "columnDefs": [
          { "type": "num-fmt", "targets": 1 },
          { "type": "date", "targets": 2 },
        ]
      });
    });

    </script>
{% endblock %}